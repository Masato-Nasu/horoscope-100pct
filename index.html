<!DOCTYPE html>
<html lang="ja"><head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ä»Šæ—¥ã®é‹å‹¢</title>
<link rel="manifest" href="manifest.json"><meta name="theme-color" content="#B79DF2">
<style>
body { font-family: -apple-system, BlinkMacSystemFont, "Noto Sans JP", sans-serif; text-align:center; padding:20px; background:#fff; color:#333; }
h1 { color:#B79DF2; font-size:28px; margin-bottom:20px; }
input,button { padding:12px; width:90%; max-width:340px; margin:10px auto; border-radius:8px; border:1px solid #ddd; }
button { background:#B79DF2; color:#fff; border:none; font-weight:bold; cursor:pointer; }
.score { font-size:40px; color:#B79DF2; font-weight:700; margin:20px 0; }
.card { background:#F7F4FF; padding:14px; border-radius:10px; max-width:340px; margin:12px auto; text-align:left; }
.label { color:#B79DF2; font-weight:bold; font-size:18px; }
</style>
<script src="https://cdn.jsdelivr.net/npm/astronomy-engine@2.1.0/astronomy.browser.min.js"></script>
<script>

// BANK object
const BANK = {
"å…¨ä½“é‹":{"a":["æ—©ã‚ã®ç€æ‰‹ãŒè»½ã•ã‚’ç”Ÿã‚€ã€‚å°ã•ãªæµã‚ŒãŒå‘³æ–¹ã™ã‚‹ã‚ˆã€‚","è‚©ã®åŠ›ã‚’æŠœãã¨ã€æ€ã‚ã¬å„ªã—ã•ãŒè¿”ã£ã¦ãã‚‹æ—¥ã€‚ã®ã‚“ã³ã‚Šã„ã“ã†ã€‚","ä¸€åº¦æ•´ãˆã‚‹ã¨å¿ƒåœ°ã‚ˆã„ã‚¹ãƒ”ãƒ¼ãƒ‰ãŒæˆ»ã‚‹ã‚ˆã€‚æ·±å‘¼å¸ãŒéµã€‚","åŸç‚¹ã«æˆ»ã‚‹ã¨è¿·ã„ãŒæ™´ã‚Œã‚‹æ—¥ã€‚å¥½ããªã‚‚ã®ã‚’æ€ã„å‡ºã—ã¦ã€‚","å°ã•ãªä¸€æ­©ãŒå¤§ããªå®‰å¿ƒã«ã¤ãªãŒã‚‹ã‚ˆã€‚æ°—è² ã‚ãšã«ã­ã€‚","æœã®ã²ã¨å·¥å¤«ãŒé›†ä¸­ã‚’æ”¯ãˆã¦ãã‚Œã‚‹ã‚ˆã€‚"],
"b":["ã‚†ã£ãã‚Šé€²ã‚ã‚‹ã¨æµã‚ŒãŒæ•´ã†ã‚ˆã€‚ç„¦ã‚‰ãšã«ã­ã€‚","ã²ã¨å‘¼å¸ãŠãã¨æ°—æŒã¡ãŒè»½ããªã‚‹ã‚ˆã€‚ç„¡ç†ã—ãªã„ã§ã­ã€‚","ã„ã¤ã‚‚ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ãŒå®‰å®šã‚’ãã‚Œã‚‹æ—¥ã€‚","ã‚ãŸãŸã‹ã„é£²ã¿ç‰©ã§ã²ã¨ä¼‘ã¿ã™ã‚‹ã¨å¿ƒãŒæ•´ã†ã‚ˆã€‚","ä¸å¯§ã«å‹•ãã¨æ°—æŒã¡ãŒã¤ã„ã¦ãã‚‹ã‚ˆã€‚","ä¸€ã¤ä¸€ã¤çµ‚ãˆã‚‹ã¨å®‰å¿ƒãŒç©ã¿é‡ãªã‚‹æ—¥ã€‚"],
"c":["ã‚†ã‚‹ã‚ã®äºˆå®šã«ã™ã‚‹ã¨å¿ƒãŒå®ˆã‚‰ã‚Œã‚‹æ—¥ã€‚","æ—©ã‚ã®åˆ‡ã‚Šä¸Šã’ãŒæ˜æ—¥ã®ä½™è£•ã«ã¤ãªãŒã‚‹ã‚ˆã€‚","ä¼‘ã‚€é¸æŠãŒæ­£è§£ã€‚è‡ªåˆ†ã‚’å„ªå…ˆã—ã¦ã­ã€‚","ã§ããªã„è‡ªåˆ†ã‚’è²¬ã‚ãªã„ã§ã€‚ä»Šæ—¥ã¯ã‚„ã•ã—ãã€‚","æµã‚ŒãŒé‡ã„ã¨ãã¯åœæ»ã®ã‚µã‚¤ãƒ³ã€‚ã‚†ã‚‹ãæ§‹ãˆã¦ã€‚","å¥½ããªé¦™ã‚Šã§ä¸€æ¯ã¤ã„ã¦ã­ã€‚"]},
"æ‹æ„›é‹":{"a":["è»½ã„ä¼šè©±ãŒè·é›¢ã‚’ç¸®ã‚ã‚‹æ—¥ã€‚è‡ªç„¶ä½“ã§ã­ã€‚","ç¬‘é¡”ã§ç©ºæ°—ãŒã‚„ã‚ã‚‰ãã‚ˆã€‚ç„¡ç†ã—ãªã„å„ªã—ã•ã‚’ã€‚","å¯„ã‚Šæ·»ã†ã ã‘ã§é–¢ä¿‚ãŒæ·±ã¾ã‚‹æ—¥ã€‚","æ°—é£ã„ãŒä¼ã‚ã‚Šã‚„ã™ã„ã‚ˆã€‚ç´ ç›´ã§å¤§ä¸ˆå¤«ã€‚","é€£çµ¡ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒåˆã†æ—¥ã€‚æ°—è»½ã«é€ã£ã¦ã¿ã¦ã€‚","å¥½ããªé¦™ã‚Šã§è‡ªä¿¡ãŒãµã£ã¨æ¹§ãã‚ˆã€‚"],
"b":["ã‚†ã£ãŸã‚Šè©±ã™ã¨ãƒšãƒ¼ã‚¹ãŒåˆã†æ—¥ã€‚","æ·±è¿½ã„ã—ãªã„è·é›¢æ„ŸãŒå¿ƒåœ°ã‚ˆã„ã‚ˆã€‚","ä¸å¯§ãªè¿”äº‹ãŒå„ªã—ã•ã«ãªã‚‹æ—¥ã€‚","é€£çµ¡ã‚’æ€¥ãŒãªã„é¸æŠã‚‚æ­£è§£ã€‚","æ°—æ¥½ãªã‚¹ã‚¿ãƒ³ã‚¹ãŒè‰¯ã„ç©ºæ°—ã‚’ä½œã‚‹æ—¥ã€‚","è‡ªåˆ†ã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ã¦é­…åŠ›ãŒã«ã˜ã‚€æ—¥ã€‚"],
"c":["ç„¡ç†ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ç–²ã‚Œã®ã‚‚ã¨ã€‚å¿ƒã‚’å®ˆã£ã¦ã­ã€‚","åå¿œã«æºã‚Œã‚„ã™ã„æ—¥ã€‚æ·±å‘¼å¸ã—ã¦ã€‚","è·é›¢ã‚’ã‚ã‘ã‚‹æ™‚é–“ãŒè‰¯ã„æ–¹å‘ã«ã€‚","ç„¦ã‚Šã¯ç¦ç‰©ã€‚ã‚†ã£ãã‚Šè‚²ã¦ã¦ã­ã€‚","æ¯”è¼ƒã¯æ§ãˆã‚ã«ã€‚ã‚ãªãŸã®ã¾ã¾ã§ã„ã„ã€‚","å¥½ããªéŸ³æ¥½ã§å¿ƒã‚’æ•´ãˆã¦ã­ã€‚"]},
"é‡‘é‹":{"a":["å¿…è¦ãªã‚‚ã®ãŒè¦‹æ¥µã‚ã‚„ã™ã„æ—¥ã€‚","æ•´ç†ã§é‡‘é‹ãŒæ•´ã†ã‚ˆã€‚","ãŠè²¡å¸ƒã®æƒé™¤ãŒé‹æ°—UPã€‚","æ¬²ã—ã„ã‚‚ã®ã¨å¿…è¦ãªã‚‚ã®ãŒåˆ†ã‹ã‚‹æ—¥ã€‚","å°ã•ãªç¯€ç´„ãŒå¤§ããªå®‰å¿ƒã«ã¤ãªãŒã‚‹ã‚ˆã€‚","æƒ…å ±ãŒå…¥ã‚Šã‚„ã™ã„æ—¥ã€‚åˆå‰ã®è²·ã„ç‰©ãŒå‰ã€‚"],
"b":["ä¸€æ—¦è€ƒãˆã¦ã‹ã‚‰å‹•ãã¨å®‰å¿ƒã€‚","æ¬²ã—ã„æ°—æŒã¡ã¨ç›¸è«‡ã—ã¦é€²ã‚ã‚‹æ—¥ã€‚","è¿·ã£ãŸã‚‰è¦‹é€ã‚Šã§OKã€‚","ã»ã©ã»ã©ã®è²·ã„ç‰©ãŒå¿ƒã‚’æ•´ãˆã‚‹ã‚ˆã€‚","å®¶è¨ˆã®è¦‹ç›´ã—ã¯è»½ã‚ã§ã€‚","å®ˆã‚‹æ„è­˜ã§ãƒãƒ©ãƒ³ã‚¹ãŒå–ã‚Œã‚‹æ—¥."],
"c":["è¡å‹•è²·ã„ã«æ³¨æ„ã®æ—¥ã€‚ã‚†ã£ãã‚Šè€ƒãˆã¦ã€‚","æ°—åˆ†ã§å‹•ãã‚„ã™ã„æ—¥ã€‚ç„¡ç†ã—ãªã„ã§ã€‚","å¤§ããªè²·ã„ç‰©ã¯é¿ã‘ã¦å‰ã€‚","åˆ¤æ–­ãŒã¶ã‚Œã‚„ã™ã„æ—¥ã€‚å®ˆã‚Šã§ã„ã“ã†ã€‚","å¿ƒé…ã«ãªã£ãŸã‚‰ä¸€åº¦æ­¢ã¾ã£ã¦ã€‚","æ¸©ã‹ã„é£²ã¿ç‰©ã§è½ã¡ç€ã„ã¦ã­ã€‚"]},
"ä»•äº‹é‹":{"a":["æœã®å·¥å¤«ãŒé›†ä¸­åŠ›UPã€‚","å„ªå…ˆé †ä½ã§ã‚¹ãƒƒã¨é€²ã‚€æ—¥ã€‚","é”æˆæ„ŸãŒç¶šãæ—¥ã€‚è»½ã„ã‚¿ã‚¹ã‚¯ã‹ã‚‰ã€‚","ç›¸è«‡ãŒã†ã¾ãå›ã‚‹æ—¥ã€‚","ç›´æ„ŸãŒå†´ãˆã‚‹æ—¥ã€‚è¿·ã£ãŸã‚‰ã‚·ãƒ³ãƒ—ãƒ«ã«ã€‚","ä¸å¯§ãªã²ã¨è¨€ã§ç©ºæ°—ãŒç©ã‚„ã‹ã«ã€‚"],
"b":["ã‚†ã£ãã‚Šå§‹ã‚ã‚‹ã¨å¾ŒåŠãŒæ¥½ã«ã€‚","ç¹°ã‚Šè¿”ã—ä½œæ¥­ãŒã¯ã‹ã©ã‚‹æ—¥ã€‚","å¤‰åŒ–ã‚ˆã‚Šå®‰å®šé‡è¦–ãŒå‰ã€‚","ä¸€ã¤ãšã¤ç‰‡ã¥ã‘ã‚‹ã¨å¿ƒãŒè»½ã„æ—¥ã€‚","ä¼‘æ†©ã‚’æŒŸã‚€ã¨æŒç¶šåŠ›ãŒå‡ºã‚‹ã‚ˆã€‚","æ°—è² ã‚ãšè‡ªç„¶ä½“ã§åƒã‘ã‚‹æ—¥ã€‚"],
"c":["ç„¡ç†ãªäºˆå®šã¯é¿ã‘ã¦ã­ã€‚","é›†ä¸­ãŒæ•£ã‚Šã‚„ã™ã„æ—¥ã€‚ä¼‘æ†©å¤šã‚ã§ã€‚","ã‚¢ã‚¤ãƒ‡ã‚¢ãŒã¾ã¨ã¾ã‚Šã«ãã„æ—¥ã€‚","è¨€è‘‰ã«å½±éŸ¿ã•ã‚Œã‚„ã™ã„æ—¥ã€‚è·é›¢ã‚’å¤§åˆ‡ã«ã€‚","ã‚„ã‚‹æ°—ã®æ³¢ã¯å°ã•ã‚ã€‚æœ€ä½é™ã§OKã€‚","è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å®ˆã‚‹ã®ãŒæˆæœã€‚"]},
"å¥åº·é‹":{"a":["æœã®ã‚¹ãƒˆãƒ¬ãƒƒãƒãŒä½“ã‚’è»½ãã€‚","æ¹¯èˆ¹ãŒæ°—åˆ†ã‚’æ•´ãˆã‚‹ã‚ˆã€‚","ä½“ãŒã‚ãŸãŸã¾ã‚Šã‚„ã™ã„æ—¥ã€‚","ã‚„ã•ã—ã„å‘³ãŒéŸ¿ãæ—¥ã€‚","ç¡çœ ã®è³ªãŒä¸ŠãŒã‚Šã‚„ã™ã„ã‚ˆã€‚","æ·±å‘¼å¸ãŒæ°—æŒã¡ã‚’å‰å‘ãã«ã€‚"],
"b":["æ°´åˆ†è£œçµ¦ã§èª¿å­ãŒæ•´ã†ã‚ˆã€‚","ã‚†ã£ãã‚Šæ­©ãã¨ãƒ©ã‚¯ãªæ—¥ã€‚","æœè£…ã®èª¿æ•´ãŒå¤§äº‹ãªæ—¥ã€‚","ã“ã¾ã‚ãªä¼‘æ¯ã§å®‰å®šã™ã‚‹æ—¥ã€‚","ä½“ã‚’å†·ã‚„ã•ãªã„å·¥å¤«ãŒå‰ã€‚","éŸ³æ¥½ã§ãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã‚‹æ—¥ã€‚"],
"c":["ç„¡ç†ã¯ç¦ç‰©ã€‚ã‚†ã£ãã‚Šã—ã¦ã­ã€‚","å†·ãˆã‚„ã™ã„æ—¥ã€‚æš–ã‹ãã—ã¦ã€‚","ç–²ã‚ŒãŒå‡ºã‚„ã™ã„æ—¥ã€‚æ—©ã‚ã«ä¼‘ã‚“ã§ã€‚","é£Ÿäº‹ã¯è»½ã‚ã§è² æ‹…æ¸›ã€‚","æ°—åœ§ã«å·¦å³ã•ã‚Œã‚„ã™ã„æ—¥ã€‚æ·±å‘¼å¸ã‚’ã€‚","è‡ªåˆ†ã‚’ç”˜ã‚„ã‹ã™æ—¥ã ã¨æ€ã£ã¦ã€‚"]}
};


function pick(a){return a[Math.floor(Math.random()*a.length)];}
function selectText(cat,val){ if(val>=70)return pick(BANK[cat].a); if(val>=40)return pick(BANK[cat].b); return pick(BANK[cat].c); }
function norm(d){return (d%360+360)%360;}
function asp(d){d=Math.abs(d); if(d<5)return 8; if(d<15)return 4; if(d<30)return 0; if(d<45)return -4; return -8;}

async function calc(){
 const b=document.getElementById('birth').value;
 if(!b){alert("ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");return;}
 const bd=new Date(b+"T12:00:00");
 const now=new Date();
 const P=[Astronomy.Body.Sun,Astronomy.Body.Moon,Astronomy.Body.Mercury,Astronomy.Body.Venus,Astronomy.Body.Mars,Astronomy.Body.Jupiter,Astronomy.Body.Saturn];
 const nat={},tod={};
 for(const p of P){ nat[p]=norm(Astronomy.Ecliptic(Astronomy.GeoVector(p,bd,true)).elon); tod[p]=norm(Astronomy.Ecliptic(Astronomy.GeoVector(p,now,true)).elon); }

 let total=70; for(const p of P) total+=asp(norm(tod[p]-nat[p]));
 total=Math.max(40,Math.min(95,total));

 const love =Math.max(40,Math.min(95,65+asp(norm(tod[Astronomy.Body.Venus]-nat[Astronomy.Body.Venus]))));
 const money=Math.max(40,Math.min(95,65+asp(norm(tod[Astronomy.Body.Jupiter]-nat[Astronomy.Body.Jupiter]))));
 const work =Math.max(40,Math.min(95,65+asp(norm(tod[Astronomy.Body.Mars]-nat[Astronomy.Body.Mars])+asp(norm(tod[Astronomy.Body.Saturn]-nat[Astronomy.Body.Saturn]))));
 const health=Math.max(40,Math.min(95,65+asp(norm(tod[Astronomy.Body.Sun]-nat[Astronomy.Body.Sun])+asp(norm(tod[Astronomy.Body.Moon]-nat[Astronomy.Body.Moon]))));

 document.getElementById('result').innerHTML =
 `<div class="score">ğŸª ä»Šæ—¥ã®ç·åˆé‹ ${total}%</div>
 <div class="card"><div class="label">ğŸ’ æ‹æ„› ${love}%</div><div>${selectText("æ‹æ„›é‹",love)}</div></div>
 <div class="card"><div class="label">ğŸ’° é‡‘é‹ ${money}%</div><div>${selectText("é‡‘é‹",money)}</div></div>
 <div class="card"><div class="label">ğŸ’¼ ä»•äº‹ ${work}%</div><div>${selectText("ä»•äº‹é‹",work)}</div></div>
 <div class="card"><div class="label">ğŸ’— å¥åº· ${health}%</div><div>${selectText("å¥åº·é‹",health)}</div></div>`;
}
</script></head>
<body>
<h1>ä»Šæ—¥ã®é‹å‹¢</h1>
<input type="date" id="birth">
<button onclick="calc()">ä»Šæ—¥ã®é‹å‹¢ã‚’è¦‹ã‚‹</button>
<div id="result"></div>
</body>
</html>
